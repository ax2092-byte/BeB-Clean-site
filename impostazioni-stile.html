<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>B&B Clean â€” Impostazioni Stile</title>
  <meta name="description" content="Modifica font e dimensioni del sito B&B Clean">
  <link rel="icon" href="/assets/img/favicon-32.png">
  <!-- Theme prima dei CSS per ridurre flash -->
  <script src="/assets/js/theme.js"></script>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <style>
    .grid-2{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:12px; }
    .card label{ display:block; font-weight:600; margin-bottom:4px; }
    .row{ display:flex; align-items:center; gap:8px; }
    input[type="range"]{ width:100%; }
  </style>
</head>
<body data-back-fallback="/index.html">
<header class="container nav">
  <div class="logo">
    <img src="/assets/img/bbclean-logo-primary.png" alt="B&B Clean" style="height:32px">
  </div>
  <nav id="main-nav">
    <a href="/index.html">Home</a>
    <a href="/stima.html">Stima</a>
    <a href="/prenota.html">Prenota</a>
    <a href="/partner.html">Diventa partner</a>
    <a href="/impostazioni-stile.html" class="active">Impostazioni stile</a>
  </nav>
</header>

<main class="container">
  <h1>Impostazioni stile</h1>
  <p class="muted">Personalizza i caratteri e le dimensioni del testo. Le modifiche sono salvate nel browser e si applicano a tutte le pagine.</p>

  <section class="card">
    <div class="grid-2">
      <div>
        <label for="base-font">Font base (testo)</label>
        <select id="base-font">
          <option>system-ui</option>
          <option>Inter</option>
          <option>Roboto</option>
          <option>Open Sans</option>
          <option>Lora</option>
          <option>Merriweather</option>
        </select>
      </div>
      <div>
        <label for="heading-font">Font titoli</label>
        <select id="heading-font">
          <option>system-ui</option>
          <option>Inter</option>
          <option>Roboto</option>
          <option>Open Sans</option>
          <option>Lora</option>
          <option>Merriweather</option>
        </select>
      </div>
      <div>
        <label for="base-size">Dimensione base (px)</label>
        <div class="row">
          <input id="base-size" type="range" min="14" max="20" step="1">
          <output id="base-size-val"></output>
        </div>
      </div>
      <div>
        <label for="line-h">Interlinea</label>
        <div class="row">
          <input id="line-h" type="range" min="1.3" max="1.9" step="0.05">
          <output id="line-h-val"></output>
        </div>
      </div>
      <div>
        <label for="h1-scale">Scala H1</label>
        <div class="row">
          <input id="h1-scale" type="range" min="1.6" max="2.6" step="0.05">
          <output id="h1-scale-val"></output>
        </div>
      </div>
      <div>
        <label for="h2-scale">Scala H2</label>
        <div class="row">
          <input id="h2-scale" type="range" min="1.3" max="2.0" step="0.05">
          <output id="h2-scale-val"></output>
        </div>
      </div>
      <div>
        <label for="h3-scale">Scala H3</label>
        <div class="row">
          <input id="h3-scale" type="range" min="1.1" max="1.6" step="0.05">
          <output id="h3-scale-val"></output>
        </div>
      </div>
    </div>

    <div class="row" style="justify-content:flex-end; margin-top:12px;">
      <button id="reset" class="btn" type="button">Ripristina</button>
      <button id="save" class="btn" type="button">Salva</button>
    </div>
  </section>

  <section class="card">
    <h3>Anteprima</h3>
    <p>Lorem ipsum dolor sit amet, <strong>consectetur</strong> adipiscing elit. <em>Phasellus</em> accumsan.</p>
    <h2>Titolo H2 di prova</h2>
    <p>Dimensioni e font di questa pagina riflettono le impostazioni correnti.</p>
  </section>
</main>

<script>
(function(){
  const cfg = Theme.get();
  const $ = id => document.getElementById(id);
  const setVal = (id, val) => { $(id).value = val; const o = $(id+'-val'); if (o) o.textContent = val; };

  // Init controls
  $('base-font').value = cfg.base;
  $('heading-font').value = cfg.heading;
  setVal('base-size', cfg.baseSize);
  setVal('line-h', cfg.lineHeight);
  setVal('h1-scale', cfg.h1);
  setVal('h2-scale', cfg.h2);
  setVal('h3-scale', cfg.h3);

  // Live output on input
  ['base-size','line-h','h1-scale','h2-scale','h3-scale'].forEach(id=>{
    $(id).addEventListener('input', ()=>{ const o=$(id+'-val'); if(o){ o.textContent = $(id).value; } });
  });

  $('save').addEventListener('click', ()=>{
    Theme.set({
      base: $('base-font').value,
      heading: $('heading-font').value,
      baseSize: Number($('base-size').value),
      lineHeight: Number($('line-h').value),
      h1: Number($('h1-scale').value),
      h2: Number($('h2-scale').value),
      h3: Number($('h3-scale').value)
    });
    alert('Impostazioni salvate.');
  });
  $('reset').addEventListener('click', ()=>{
    Theme.reset();
    location.reload();
  });
})();
</script>

<!-- Banner colorato -->
<script src="/assets/js/top-banner.js"></script>
<!-- Freccia indietro -->
<script src="/assets/js/back-arrow.js"></script>
</body>
</html>
